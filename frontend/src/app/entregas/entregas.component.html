<h1>Entregas</h1>
<div class="mb-3">
  <button 
    class="btn btn-primary" 
    (click)="procesarPedido()"
    [disabled]="procesando">
    {{ procesando ? 'Procesando...' : 'Procesar Pedido' }}
  </button>
  <div *ngIf="mensaje" class="alert alert-info mt-2">
    {{ mensaje }}
  </div>
</div>

<table class ="table" *ngIf="entregas$ | async as entregas; else loading">
  <thead>
    <tr>
      <th>Título</th>
      <th>Minutos</th>
      <th>Segundos</th>
      <th>Intérprete</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let entrega of entregas">
      <td>{{entrega.titulo}}</td>
      <td>{{entrega.minutos}}</td>
      <td>{{entrega.segundos}}</td>
      <td>{{entrega.interprete}}</td>
    </tr>
  </tbody>
</table>

<ng-template #loading>
  <div>Cargando entregas...</div>
</ng-template>